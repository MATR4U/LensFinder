# Caching
# Optional Redis cache for API responses
# Example: redis://localhost:6379/0
REDIS_URL=
# Default TTL in seconds for cached list endpoints
CACHE_TTL_S=300

# Example development environment

# Server
NODE_ENV=development
PORT=3001
HOST=0.0.0.0
DB_DRIVER=pg
DATABASE_URL=postgres://lens:lens@localhost:${POSTGRES_PORT:-5432}/lensfinder
# Optional simple API key for server auth
API_KEY=
# Logging
LOG_LEVEL=info
# Optional CORS (comma-separated origins). Leave empty in dev unless needed.
CORS_ALLOWED_ORIGINS=
# Optional allowlist for price scraping domains (comma-separated, e.g. example.com,shop.example)
PRICE_SCRAPE_ALLOWLIST=
# Respect reverse proxies in environments like ingress/load balancers
TRUST_PROXY=false

# Dockerised Postgres
POSTGRES_DB=lensfinder
POSTGRES_USER=lens
POSTGRES_PASSWORD=lens
POSTGRES_PORT=55432

# Redis
REDIS_PORT=6379

# pgAdmin
PGADMIN_DEFAULT_EMAIL=admin@example.com
PGADMIN_DEFAULT_PASSWORD=lenspass
PGADMIN_PORT=55050

# Client
CLIENT_PORT=3000
VITE_API_BASE_URL=
VITE_SEARCH_URL_BASE=https://www.google.com/search?q=
VITE_API_KEY=

# Security
# If set, all mutating requests (POST/PUT/PATCH/DELETE) must include:
#  - x-timestamp: unix seconds or ms, or RFC3339 timestamp
#  - x-signature: hex HMAC-SHA256 of `${x-timestamp}.${rawBody}` with this secret
# SIGNATURE_TTL_SECONDS controls acceptable clock skew/window
REQUEST_SIGNATURE_SECRET=
SIGNATURE_TTL_SECONDS=300
SIGNATURE_EXCLUDE_PATHS=/graphql,/api/health

# API versioning headers
API_VERSION_CURRENT=v1
API_VERSION_DEPRECATED=
API_VERSION_POLICY_URL=

# Rate limits and body size
RATE_LIMIT_GLOBAL_PER_MIN=600
RATE_LIMIT_PRICE_PER_MIN=60
JSON_BODY_LIMIT=256kb
